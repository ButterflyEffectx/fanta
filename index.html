<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>เกมความสามัคคี - Interactive Story</title>
    <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Prompt', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow-x: hidden;
        }

        .game-container {
            width: 90%;
            max-width: 800px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 30px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
            position: relative;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 25px;
            text-align: center;
            color: white;
        }

        .header h1 {
            font-size: 2.2em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .hearts-bar {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin-top: 15px;
        }

        .heart {
            font-size: 2em;
            opacity: 0.3;
            transition: all 0.3s ease;
        }

        .heart.filled {
            opacity: 1;
            animation: heartBeat 0.5s ease;
        }

        @keyframes heartBeat {

            0%,
            100% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.3);
            }
        }

        .content {
            padding: 40px 30px;
            min-height: 400px;
        }

        .situation {
            text-align: center;
            opacity: 0;
            animation: fadeIn 0.8s ease forwards;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .situation-icon {
            font-size: 4em;
            margin-bottom: 20px;
            animation: bounce 1s ease infinite;
        }

        @keyframes bounce {

            0%,
            100% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-10px);
            }
        }

        .situation-title {
            font-size: 1.8em;
            font-weight: 700;
            color: #667eea;
            margin-bottom: 15px;
        }

        .situation-desc {
            font-size: 1.2em;
            color: #555;
            margin-bottom: 30px;
            line-height: 1.6;
        }

        .choices {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-top: 30px;
        }

        .choice-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 20px 30px;
            font-size: 1.1em;
            font-family: 'Prompt', sans-serif;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
            text-align: left;
        }

        .choice-btn:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.5);
        }

        .choice-btn:active {
            transform: translateY(-2px) scale(0.98);
        }

        .victory-screen {
            text-align: center;
            padding: 50px 30px;
            display: none;
            opacity: 0;
            animation: fadeIn 1s ease forwards;
        }

        .victory-icon {
            font-size: 6em;
            margin-bottom: 20px;
            animation: rotate 2s ease infinite;
        }

        @keyframes rotate {
            0% {
                transform: rotate(0deg) scale(1);
            }

            50% {
                transform: rotate(180deg) scale(1.2);
            }

            100% {
                transform: rotate(360deg) scale(1);
            }
        }

        .victory-title {
            font-size: 2.5em;
            font-weight: 700;
            background: linear-gradient(135deg, #667eea, #764ba2, #f093fb);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 20px;
        }

        .victory-score {
            font-size: 2em;
            font-weight: 700;
            color: #f5576c;
            margin: 15px 0;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        .victory-quote {
            font-size: 1.5em;
            color: #667eea;
            font-weight: 600;
            margin: 20px 0;
            font-style: italic;
        }

        .victory-message {
            font-size: 1.2em;
            color: #555;
            line-height: 1.8;
            margin: 20px 0;
        }

        .restart-btn {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.2em;
            font-family: 'Prompt', sans-serif;
            border-radius: 15px;
            cursor: pointer;
            margin-top: 30px;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(245, 87, 108, 0.3);
        }

        .restart-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 10px 25px rgba(245, 87, 108, 0.5);
        }

        .floating-heart {
            position: fixed;
            font-size: 3em;
            pointer-events: none;
            animation: floatUp 2s ease-out forwards;
            z-index: 1000;
        }

        @keyframes floatUp {
            0% {
                opacity: 1;
                transform: translateY(0) scale(0.5);
            }

            100% {
                opacity: 0;
                transform: translateY(-200px) scale(1.5);
            }
        }

        .shake {
            animation: shake 0.5s ease;
        }

        @keyframes shake {

            0%,
            100% {
                transform: translateX(0);
            }

            25% {
                transform: translateX(-10px);
            }

            75% {
                transform: translateX(10px);
            }
        }

        .broken-heart {
            position: fixed;
            font-size: 4em;
            pointer-events: none;
            animation: breakHeart 1s ease-out forwards;
            z-index: 1000;
        }

        @keyframes breakHeart {
            0% {
                opacity: 1;
                transform: scale(1) rotate(0deg);
            }

            100% {
                opacity: 0;
                transform: scale(0.3) rotate(180deg);
            }
        }

        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            pointer-events: none;
            z-index: 1000;
        }

        @keyframes confettiFall {
            to {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }

        @media (max-width: 768px) {
            .game-container {
                width: 95%;
                border-radius: 20px;
            }

            .header {
                padding: 20px 15px;
            }

            .header h1 {
                font-size: 1.8em;
            }

            .header p {
                font-size: 0.9em;
            }

            .hearts-bar {
                gap: 5px;
            }

            .heart {
                font-size: 1.5em;
            }

            .content {
                padding: 30px 20px;
                min-height: 350px;
            }

            .situation-icon {
                font-size: 3.5em;
            }

            .situation-title {
                font-size: 1.5em;
                margin-bottom: 12px;
            }

            .situation-desc {
                font-size: 1.05em;
                margin-bottom: 25px;
            }

            .choice-btn {
                font-size: 1em;
                padding: 18px 20px;
            }

            .victory-screen {
                padding: 40px 20px;
            }

            .victory-icon {
                font-size: 5em;
            }

            .victory-title {
                font-size: 2em;
                margin-bottom: 15px;
            }

            .victory-score {
                font-size: 1.6em;
            }

            .victory-quote {
                font-size: 1.2em;
            }

            .victory-message {
                font-size: 1.05em;
            }

            .restart-btn {
                font-size: 1.1em;
                padding: 12px 35px;
            }
        }

        @media (max-width: 480px) {
            .game-container {
                width: 98%;
                border-radius: 15px;
            }

            .header {
                padding: 18px 12px;
            }

            .header h1 {
                font-size: 1.4em;
                margin-bottom: 8px;
            }

            .header p {
                font-size: 0.85em;
            }

            .hearts-bar {
                gap: 4px;
                flex-wrap: wrap;
                max-width: 280px;
                margin: 15px auto 0;
            }

            .heart {
                font-size: 1.3em;
            }

            .content {
                padding: 25px 15px;
                min-height: 300px;
            }

            .situation-icon {
                font-size: 2.8em;
                margin-bottom: 15px;
            }

            .situation-title {
                font-size: 1.2em;
                margin-bottom: 10px;
                line-height: 1.4;
            }

            .situation-desc {
                font-size: 0.95em;
                margin-bottom: 20px;
                line-height: 1.5;
            }

            .choices {
                gap: 12px;
                margin-top: 20px;
            }

            .choice-btn {
                font-size: 0.9em;
                padding: 15px 18px;
                border-radius: 12px;
            }

            .victory-screen {
                padding: 30px 15px;
            }

            .victory-icon {
                font-size: 4em;
                margin-bottom: 15px;
            }

            .victory-title {
                font-size: 1.5em;
                margin-bottom: 12px;
                line-height: 1.3;
            }

            .victory-score {
                font-size: 1.4em;
                margin: 12px 0;
            }

            .victory-quote {
                font-size: 1em;
                margin: 15px 0;
                line-height: 1.4;
            }

            .victory-message {
                font-size: 0.9em;
                line-height: 1.6;
                margin: 15px 0;
            }

            .restart-btn {
                font-size: 1em;
                padding: 12px 30px;
                margin-top: 20px;
            }

            .floating-heart {
                font-size: 2em;
            }

            .broken-heart {
                font-size: 3em;
            }
        }

        @media (max-width: 360px) {
            .header h1 {
                font-size: 1.2em;
            }

            .hearts-bar {
                max-width: 240px;
            }

            .heart {
                font-size: 1.1em;
            }

            .situation-icon {
                font-size: 2.5em;
            }

            .situation-title {
                font-size: 1.1em;
            }

            .situation-desc {
                font-size: 0.9em;
            }

            .choice-btn {
                font-size: 0.85em;
                padding: 13px 15px;
            }

            .victory-title {
                font-size: 1.3em;
            }

            .victory-score {
                font-size: 1.2em;
            }
        }
    </style>
</head>

<body>
    <div class="game-container">
        <div class="header">
            <h1>❤️ เกมความสามัคคี ❤️</h1>
            <p>รวมใจเป็นหนึ่งเดียว</p>
            <div class="hearts-bar" id="heartsBar"></div>
        </div>

        <div class="content" id="content">
            <div class="situation" id="situation"></div>
        </div>

        <div class="victory-screen" id="victoryScreen"></div>
    </div>

    <script>
        const situations = [
            {
                icon: '👩‍🎓',
                title: 'ห้องเรียน - การบ้านกลุ่ม',
                desc: 'เพื่อนในกลุ่มไม่ทำงานส่วนตัว ทำให้กลุ่มโดนตำหนิ คุณจะทำอย่างไร?',
                choices: [
                    { text: ' ช่วยเพื่อนทำและแบ่งงานใหม่อย่างเป็นธรรม', correct: true },
                    { text: ' ไม่สนใจ ปล่อยให้เพื่อนโดนตำหนิ', correct: false }
                ]
            },
            {
                icon: '⚽',
                title: 'สนามกีฬา - แข่งกีฬาสี',
                desc: 'เพื่อนร่วมทีมล้มบาดเจ็บระหว่างแข่งขัน คุณจะทำอย่างไร?',
                choices: [
                    { text: ' หยุดช่วยเพื่อนก่อน แล้วแข่งต่อด้วยกัน', correct: true },
                    { text: ' วิ่งต่อเพื่อชัยชนะ ไม่สนใจเพื่อน', correct: false }
                ]
            },
            {
                icon: '🏫',
                title: 'งานโรงเรียน - จัดบูธ',
                desc: 'กลุ่มมีความเห็นไม่ตรงกันในการจัดบูธ คุณจะทำอย่างไร?',
                choices: [
                    { text: ' เสนอให้แบ่งงานตามความถนัดของแต่ละคน', correct: true },
                    { text: ' บังคับให้ฝ่ายเดียวทำทั้งหมด', correct: false }
                ]
            },
            {
                icon: '🌳',
                title: 'ชุมชน - ความสะอาด',
                desc: 'เห็นสวนสาธารณะเต็มไปด้วยขยะ คุณจะทำอย่างไร?',
                choices: [
                    { text: ' ชวนเพื่อนช่วยกันเก็บ และตั้งกฎดูแลร่วมกัน', correct: true },
                    { text: ' เดินผ่านไปไม่สนใจ เพราะไม่ใช่หน้าที่เรา', correct: false }
                ]
            },
            {
                icon: '📱',
                title: 'ออนไลน์ - โซเชียลมีเดีย',
                desc: 'เห็นเพื่อนโดน cyberbully บนโซเชียล คุณจะทำอย่างไร?',
                choices: [
                    { text: ' ปกป้องเพื่อนและกดรายงานโพสต์ที่ไม่เหมาะสม', correct: true },
                    { text: ' กดไลก์ตามกระแส เพราะกลัวโดนด้วย', correct: false }
                ]
            },
            {
                icon: '📝',
                title: 'ห้องเรียน - การสอบ',
                desc: 'เพื่อนขอลอกการบ้านเพราะไม่มีเวลาทำ คุณจะทำอย่างไร?',
                choices: [
                    { text: ' ปฏิเสธอย่างสุภาพ และชวนอ่านหนังสือด้วยกัน', correct: true },
                    { text: ' ส่งคำตอบให้เพื่อนเลย เพื่อความสะดวก', correct: false }
                ]
            },
            {
                icon: '💬',
                title: 'ห้องประชุมกลุ่ม - โครงการเรียน',
                desc: 'มีเพื่อนคนหนึ่งเงียบ ๆ ไม่กล้าแสดงความคิดเห็น คุณจะทำอย่างไร?',
                choices: [
                    { text: ' ชวนเพื่อนคนนั้นให้เสนอความคิดเห็น รับฟังทุกคน', correct: true },
                    { text: ' ปล่อยให้เงียบไป ไม่ต้องเสียเวลา', correct: false }
                ]
            },
            {
                icon: '🌱',
                title: 'กิจกรรมอาสา - ปลูกต้นไม้',
                desc: 'เพื่อนไม่ถนัดงานปลูกต้นไม้ ทำช้า คุณจะทำอย่างไร?',
                choices: [
                    { text: ' แบ่งงานง่าย ๆ ให้ และชวนร่วมมือกัน', correct: true },
                    { text: ' บ่นว่าเพื่อนขี้เกียจและช้า', correct: false }
                ]
            },
            {
                icon: '🏠',
                title: 'ครอบครัว - งานบ้าน',
                desc: 'พี่ชายบอกให้น้องทำงานบ้านทั้งหมด คุณจะทำอย่างไร?',
                choices: [
                    { text: ' เสนอให้ผลัดเวรกัน แบ่งงานเป็นธรรม', correct: true },
                    { text: ' ผลักให้น้องทำเพราะตัวเองเหนื่อย', correct: false }
                ]
            },
            {
                icon: '🗳️',
                title: 'ชุมชน - การตัดสินใจส่วนรวม',
                desc: 'ชุมชนต้องตัดสินใจเรื่องสำคัญ แต่มีความเห็นต่าง คุณจะทำอย่างไร?',
                choices: [
                    { text: ' เสนอให้ทุกคนโหวต และผสมผสานความคิดเห็น', correct: true },
                    { text: ' ตามกลุ่มใหญ่ ไม่ฟังเสียงส่วนน้อย', correct: false }
                ]
            }
        ];

        let currentSituation = 0;
        let hearts = 0;

        function init() {
            renderHeartsBar();
            showSituation();
        }

        function renderHeartsBar() {
            const heartsBar = document.getElementById('heartsBar');
            heartsBar.innerHTML = '';
            for (let i = 0; i < 10; i++) {
                const heart = document.createElement('span');
                heart.className = 'heart' + (i < hearts ? ' filled' : '');
                heart.textContent = '❤️';
                heartsBar.appendChild(heart);
            }
        }

        function showSituation() {
            if (currentSituation >= situations.length) {
                showVictory();
                return;
            }

            const situation = situations[currentSituation];
            const situationDiv = document.getElementById('situation');

            // สุ่มสลับตำแหน่ง choices
            const shuffledChoices = [...situation.choices].sort(() => Math.random() - 0.5);

            situationDiv.style.opacity = '0';

            setTimeout(() => {
                situationDiv.innerHTML = `
            <div class="situation-icon">${situation.icon}</div>
            <div class="situation-title">${situation.title}</div>
            <div class="situation-desc">${situation.desc}</div>
            <div class="choices">
                <button class="choice-btn" onclick="makeChoice(${situation.choices.indexOf(shuffledChoices[0])})">${shuffledChoices[0].text}</button>
                <button class="choice-btn" onclick="makeChoice(${situation.choices.indexOf(shuffledChoices[1])})">${shuffledChoices[1].text}</button>
            </div>
        `;
                situationDiv.style.opacity = '1';
            }, 300);
        }


        function makeChoice(choiceIndex) {
            const situation = situations[currentSituation];
            const choice = situation.choices[choiceIndex];

            if (choice.correct) {
                hearts++;
                createFloatingHeart();
                renderHeartsBar();
            } else {
                shakeScreen();
                createBrokenHeart();
            }

            currentSituation++;

            setTimeout(() => {
                if (hearts === 10) {
                    showVictory();
                } else {
                    showSituation();
                }
            }, 100);
        }

        function createFloatingHeart() {
            const heart = document.createElement('div');
            heart.className = 'floating-heart';
            heart.textContent = '❤️';
            heart.style.left = Math.random() * window.innerWidth + 'px';
            heart.style.top = window.innerHeight / 2 + 'px';
            document.body.appendChild(heart);

            setTimeout(() => heart.remove(), 2000);
        }

        function createBrokenHeart() {
            const heart = document.createElement('div');
            heart.className = 'broken-heart';
            heart.textContent = '💔';
            heart.style.left = '50%';
            heart.style.top = '50%';
            heart.style.transform = 'translate(-50%, -50%)';
            document.body.appendChild(heart);

            setTimeout(() => heart.remove(), 1000);
        }

        function shakeScreen() {
            const container = document.querySelector('.game-container');
            container.classList.add('shake');
            setTimeout(() => container.classList.remove('shake'), 500);
        }

        function showVictory() {
            document.getElementById('content').style.display = 'none';
            document.getElementById('situation').style.display = 'none';
            const victoryScreen = document.getElementById('victoryScreen');

            // สรุปผลตามคะแนน
            let result = getResultByScore(hearts);

            victoryScreen.innerHTML = `
                <div class="victory-icon">${result.icon}</div>
                <div class="victory-title">${result.title}</div>
                <div class="victory-score">คะแนนความสามัคคี: ${hearts}/10 ❤️</div>
                <div class="victory-quote">${result.quote}</div>
                <div class="victory-message">${result.message}</div>
                <button class="restart-btn" onclick="restartGame()">🎮 เล่นอีกครั้ง</button>
            `;

            victoryScreen.style.display = 'block';

            if (hearts >= 8) {
                createConfetti();
                for (let i = 0; i < 50; i++) {
                    setTimeout(() => createFloatingHeart(), i * 100);
                }
            } else if (hearts >= 5) {
                for (let i = 0; i < 20; i++) {
                    setTimeout(() => createFloatingHeart(), i * 150);
                }
            }
        }

        function getResultByScore(score) {
            if (score >= 9) {
                return {
                    icon: '🏆',
                    title: 'คุณคือผู้พิทักษ์ความสามัคคี ❤️<br>รวมใจเป็นหนึ่งเดียว',
                    quote: '"รวมกันเราอยู่ แยกกันเราตาย"',
                    message: 'ยอดเยี่ยม! คุณเข้าใจคุณค่าของความสามัคคีอย่างแท้จริง<br>เมื่อทุกคนร่วมมือกัน ความสำเร็จก็ใกล้ขึ้นกว่าที่คิด'
                };
            } else if (score >= 7) {
                return {
                    icon: '⭐',
                    title: 'คุณคือผู้นำแห่งความสามัคคี<br>หัวใจที่อบอุ่น',
                    quote: '"หยาดน้ำอาจเล็ก แต่รวมกันเป็นมหาสมุทร"',
                    message: 'ดีมาก! คุณรู้จักการแบ่งปันและร่วมมือกับผู้อื่น<br>เพียงปรับปรุงเล็กน้อยก็จะยอดเยี่ยมแล้ว!'
                };
            } else if (score >= 5) {
                return {
                    icon: '🌟',
                    title: 'คุณกำลังเรียนรู้ความสามัคคี<br>ก้าวที่ดีแล้ว!',
                    quote: '"ไม้หนึ่งท่อนไม่อาจสร้างบ้านได้"',
                    message: 'ดีขึ้นแล้ว! คุณเริ่มเข้าใจความสำคัญของการร่วมมือ<br>ลองใส่ใจความรู้สึกของผู้อื่นมากขึ้นนะ'
                };
            } else if (score >= 3) {
                return {
                    icon: '💪',
                    title: 'ยังต้องฝึกฝนเรื่องความสามัคคี<br>สู้ ๆ นะ!',
                    quote: '"ขาเดียวย่อมเดินไม่ได้ คนเดียวงานสำเร็จยาก"',
                    message: 'ยังต้องพัฒนาอีกหน่อย! ลองคิดถึงประโยชน์ของส่วนรวม<br>มากกว่าตัวเองเพียงคนเดียว จะทำให้ชีวิตดีขึ้นแน่นอน'
                };
            } else {
                return {
                    icon: '🌱',
                    title: 'เริ่มต้นเรียนรู้ความสามัคคี<br>ทุกคนมีโอกาสพัฒนา',
                    quote: '"การเริ่มต้นคือครึ่งทางแห่งความสำเร็จ"',
                    message: 'ไม่เป็นไร! การเรียนรู้ต้องใช้เวลา<br>ลองเล่นใหม่และคิดถึงความรู้สึกของคนรอบข้างมากขึ้น<br>เราเชื่อว่าคุณทำได้!'
                };
            }
        }

        function createConfetti() {
            const colors = ['#667eea', '#764ba2', '#f093fb', '#f5576c', '#4facfe'];

            for (let i = 0; i < 100; i++) {
                setTimeout(() => {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    confetti.style.left = Math.random() * window.innerWidth + 'px';
                    confetti.style.top = '-10px';
                    confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                    confetti.style.animation = `confettiFall ${2 + Math.random() * 2}s linear forwards`;
                    document.body.appendChild(confetti);

                    setTimeout(() => confetti.remove(), 4000);
                }, i * 30);
            }
        }

        function restartGame() {
            currentSituation = 0;
            hearts = 0;
            document.getElementById('content').style.display = 'block';
            document.getElementById('victoryScreen').style.display = 'none';
            document.getElementById('situation').style.display = 'block';
            init();
        }

        init();
    </script>
</body>

</html>